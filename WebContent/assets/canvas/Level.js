
// -- user code here --
var startCount = 0;
var theLevel = null;
/* --- start generated code --- */

// Generated by  1.5.4 (Phaser v2.6.2)


class Level extends Phaser.State {
	
	/**
	 * Level.
	 */
	constructor() {
		
		super();
		
	}
	
	init() {
		
		this.stage.backgroundColor = '#ff8000';
		
	}
	
	preload () {
		
	}
	
	create() {
		
		
		this.userCreate();
		
	}
	
	/* state-methods-begin */
	// -- user code here --
	userCreate() {
		theLevel = theLevel || this;
		
		var txt = this.add.text(299.8662109375, 290.2373046875, 'Click to continue', {"font":"bold 20px Arial"});
		txt.inputEnabled = true;
		txt.input.userHandCursor = true;
		txt.events.onInputDown.add(() => this.game.state.start("Menu"));
		
		this.stuff = this.stuff || [];
		this.sth = new Something(this.game);
		this.sth.position.set(this.game.rnd.realInRange(0, 600),
				this.game.rnd.realInRange(0, 400));
		this.stuff.push(this.sth);
		
		console.log('stuff length: ' + this.stuff.length + ', level start count:' + ++startCount);
		
		this.someNum = 5;
	}
	
	shutdown() {
		super.shutdown();
		console.log("goodbye sweet level");
		clearProps(this);
	}
	/* state-methods-end */
}
/* --- end generated code --- */
// -- user code here --

function clearProps(obj) {
	var props = Object.getOwnPropertyNames(obj);
	var i = props.indexOf("rnd") + 1;	//This is the last one that current phaser lib inserts.
	if (i < 0) throw "Cannot clear properties of non-Phaser State";
	for (; i < props.length; ++i) {
		console.log("clearing State's " + props[i]);
		if (Array.isArray(obj[props[i]])) {	//Arrays can't be detected with typeof
			obj[props[i]].length = 0;
			continue;
		}
		switch (typeof props[i]) {
	        case 'boolean'   : obj[props[i]] = false;
	        case 'number'    : obj[props[i]] = 0;
	        case 'object'    : obj[props[i]] = null;
		}
	}
}
